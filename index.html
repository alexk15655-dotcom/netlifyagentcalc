<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self'; 
                 script-src 'self' 'unsafe-inline'; 
                 style-src 'self' 'unsafe-inline'; 
                 connect-src 'none'; 
                 img-src 'self' data:;">
  
  <title>Cashier Checkup - –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</title>
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <div class="privacy-badge">
    üîí –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ
  </div>
  
  <div class="container">
    <header>
      <h1>Cashier Checkup</h1>
      <p class="subtitle">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Å—Å–∏—Ä–æ–≤ –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä</p>
    </header>
    
    <section class="upload">
      <div class="file-input-wrapper">
        <label for="mainFile">
          <div class="file-label">
            <span class="icon">üìÑ</span>
            <span>–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span>
          </div>
          <input type="file" id="mainFile" accept=".csv" required>
          <span class="filename" id="mainFilename">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
        </label>
      </div>
      
      <div class="file-input-wrapper">
        <label for="prepayFile">
          <div class="file-label">
            <span class="icon">üí∞</span>
            <span>Prepayments (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
          </div>
          <input type="file" id="prepayFile" accept=".csv">
          <span class="filename" id="prepayFilename">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
        </label>
      </div>
    </section>
    
    <section class="config">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
      
      <div class="config-grid">
        <div class="config-item">
          <label for="cashierColumn">–ö–æ–ª–æ–Ω–∫–∞ —Å –∫–∞—Å—Å–∞–º–∏</label>
          <select id="cashierColumn">
            <option value="8">I (9-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="9">J (10-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="10">K (11-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="11">L (12-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="12" selected>M (13-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
          </select>
        </div>
        
        <div class="config-item">
          <label for="depCommission">–ö–æ–º–∏—Å—Å–∏—è –¥–µ–ø–æ–∑–∏—Ç—ã (%)</label>
          <input type="number" id="depCommission" value="5" step="0.01" min="0" max="100">
        </div>
        
        <div class="config-item">
          <label for="withCommission">–ö–æ–º–∏—Å—Å–∏—è –≤—ã–≤–æ–¥—ã (%)</label>
          <input type="number" id="withCommission" value="2" step="0.01" min="0" max="100">
        </div>
        
        <div class="config-item checkbox-item">
          <label>
            <input type="checkbox" id="createSummary" checked>
            <span>–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–¥–∫—É –ø–æ –§–ì</span>
          </label>
        </div>
        
        <div class="config-item checkbox-item">
          <label>
            <input type="checkbox" id="findSimilarNames">
            <span>–ò—Å–∫–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ –∏–º–µ–Ω–∞ –≤ –∫–∞–ª—å–∫—É–ª—è—Ü–∏–∏</span>
          </label>
        </div>
      </div>
      
      <button type="button" id="advancedBtn" class="btn-secondary" onclick="toggleAdvanced()">
        ‚öôÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
      </button>
      
      <div id="advancedSettings" class="advanced-settings" style="display:none;">
        <h3>–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ—Ä–æ–¥-–∞–Ω–∞–ª–∏–∑–∞</h3>
        
        <div class="config-grid">
          <!-- –í—ã—Å–æ–∫–∏–µ –≤—ã–≤–æ–¥—ã -->
          <h4 style="grid-column: 1 / -1; margin-top: 12px; margin-bottom: 8px; color: #667eea; font-size: 15px;">
            üí∏ –í—ã—Å–æ–∫–∏–µ –≤—ã–≤–æ–¥—ã
          </h4>
          
          <div class="config-item">
            <label for="minWithdrawalDiff">
              –ú–∏–Ω. —Ä–∞–∑–Ω–∏—Ü–∞ ($)
              <span class="hint">‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤—ã–≤–æ–¥-–¥–µ–ø–æ–∑–∏—Ç</span>
            </label>
            <input type="number" id="minWithdrawalDiff" value="100" step="10" min="0">
          </div>
          
          <div class="config-item">
            <label for="mediumRatio">
              MEDIUM –ø–æ—Ä–æ–≥ (%)
              <span class="hint">‚Äî —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤—ã–≤–æ–¥/–¥–µ–ø–æ–∑–∏—Ç</span>
            </label>
            <input type="number" id="mediumRatio" value="110" step="1" min="100" max="500">
          </div>
          
          <div class="config-item">
            <label for="highRatio">
              HIGH –ø–æ—Ä–æ–≥ (%)
              <span class="hint">‚Äî —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤—ã–≤–æ–¥/–¥–µ–ø–æ–∑–∏—Ç</span>
            </label>
            <input type="number" id="highRatio" value="200" step="1" min="100" max="1000">
          </div>
          
          <div class="config-item">
            <label for="highDiff">
              HIGH —Ä–∞–∑–Ω–∏—Ü–∞ ($)
              <span class="hint">‚Äî –∞–±—Å–æ–ª—é—Ç–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –¥–ª—è HIGH</span>
            </label>
            <input type="number" id="highDiff" value="1000" step="50" min="0">
          </div>
          
          <div class="config-item">
            <label for="minAmountAnalysis">
              –ú–∏–Ω. —Å—É–º–º–∞ –∞–Ω–∞–ª–∏–∑–∞ ($)
              <span class="hint">‚Äî –º–∏–Ω–∏–º—É–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</span>
            </label>
            <input type="number" id="minAmountAnalysis" value="100" step="10" min="0">
          </div>
          
          <!-- –ö—Ä—É–ø–Ω—ã–µ –±–ª–∏–∑–∫–∏–µ –≤–≤–æ–¥—ã-–≤—ã–≤–æ–¥—ã -->
          <h4 style="grid-column: 1 / -1; margin-top: 24px; margin-bottom: 8px; color: #667eea; font-size: 15px;">
            üí∞ –ö—Ä—É–ø–Ω—ã–µ –±–ª–∏–∑–∫–∏–µ –≤–≤–æ–¥—ã-–≤—ã–≤–æ–¥—ã
          </h4>
          
          <div class="config-item">
            <label for="balancedFlowDetectionThreshold">
              –ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è ($)
              <span class="hint">‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</span>
            </label>
            <input type="number" id="balancedFlowDetectionThreshold" value="1000" step="100" min="100">
          </div>
          
          <div class="config-item">
            <label for="balancedFlowHighThreshold">
              –ü–æ—Ä–æ–≥ HIGH severity ($)
              <span class="hint">‚Äî –¥–µ–ø–æ–∑–∏—Ç –¥–ª—è HIGH severity</span>
            </label>
            <input type="number" id="balancedFlowHighThreshold" value="5000" step="500" min="1000">
          </div>
          
          <div class="config-item">
            <label for="balancedFlowLowerRatio">
              –ù–∏–∂–Ω–∏–π –ø–æ—Ä–æ–≥ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è (%)
              <span class="hint">‚Äî –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –≤—ã–≤–æ–¥/–¥–µ–ø–æ–∑–∏—Ç</span>
            </label>
            <input type="number" id="balancedFlowLowerRatio" value="90" step="1" min="50" max="100">
          </div>
          
          <!-- –ê–≥–µ–Ω—Ç –∏–≥—Ä–∞–µ—Ç —Å–∞–º -->
          <h4 style="grid-column: 1 / -1; margin-top: 24px; margin-bottom: 8px; color: #667eea; font-size: 15px;">
            üë§ –ê–≥–µ–Ω—Ç –∏–≥—Ä–∞–µ—Ç —Å–∞–º
          </h4>
          
          <div class="config-item">
            <label for="nameSimilarityThreshold">
              –ü–æ—Ö–æ–∂–µ—Å—Ç—å –∏–º–µ–Ω –∞–≥–µ–Ω—Ç/–∏–≥—Ä–æ–∫ (%)
              <span class="hint">‚Äî –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏ –∏–º–µ–Ω</span>
            </label>
            <input type="number" id="nameSimilarityThreshold" value="70" step="1" min="50" max="100">
          </div>
          
          <!-- –ü—É—Å—Ç—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã -->
          <h4 style="grid-column: 1 / -1; margin-top: 24px; margin-bottom: 8px; color: #667eea; font-size: 15px;">
            üì≠ –ü—É—Å—Ç—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
          </h4>
          
          <div class="config-item">
            <label for="emptyAccountThreshold">
              –ü–æ—Ä–æ–≥ –ø—É—Å—Ç—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
              <span class="hint">‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</span>
            </label>
            <input type="number" id="emptyAccountThreshold" value="10" step="1" min="1">
          </div>
          
          <!-- –ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç—ã -->
          <h4 style="grid-column: 1 / -1; margin-top: 24px; margin-bottom: 8px; color: #667eea; font-size: 15px;">
            üë• –ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç—ã
          </h4>
          
          <div class="config-item">
            <label for="multiAccountThreshold">
              –ú–∏–Ω. –∫–æ–ª-–≤–æ
              <span class="hint">‚Äî –º–∏–Ω–∏–º—É–º –∞–∫–∫–æ–≤ –≤ –≥—Ä—É–ø–ø–µ</span>
            </label>
            <input type="number" id="multiAccountThreshold" value="3" step="1" min="2">
          </div>
          
          <div class="config-item">
            <label for="multiAccountLowLoss">
              LOW –ø–æ—Ä–æ–≥ ($)
              <span class="hint">‚Äî —É–±—ã—Ç–æ–∫ –¥–ª—è LOW</span>
            </label>
            <input type="number" id="multiAccountLowLoss" value="75" step="1" min="0">
          </div>
          
          <div class="config-item">
            <label for="multiAccountMediumLoss">
              MEDIUM –ø–æ—Ä–æ–≥ ($)
              <span class="hint">‚Äî —É–±—ã—Ç–æ–∫ –¥–ª—è MEDIUM</span>
            </label>
            <input type="number" id="multiAccountMediumLoss" value="150" step="1" min="0">
          </div>
          
          <div class="config-item">
            <label for="multiAccountMediumCount">
              MEDIUM –∫–æ–ª-–≤–æ
              <span class="hint">‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è MEDIUM</span>
            </label>
            <input type="number" id="multiAccountMediumCount" value="5" step="1" min="2">
          </div>
          
          <div class="config-item">
            <label for="multiAccountHighLoss">
              HIGH –ø–æ—Ä–æ–≥ ($)
              <span class="hint">‚Äî —É–±—ã—Ç–æ–∫ –¥–ª—è HIGH</span>
            </label>
            <input type="number" id="multiAccountHighLoss" value="500" step="1" min="0">
          </div>
          
          <div class="config-item">
            <label for="multiAccountHighCount">
              HIGH –∫–æ–ª-–≤–æ
              <span class="hint">‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è HIGH</span>
            </label>
            <input type="number" id="multiAccountHighCount" value="10" step="1" min="2">
          </div>
          
          <div class="config-item">
            <label for="nameSimilarityMulti">
              –ü–æ—Ö–æ–∂–µ—Å—Ç—å –¥–ª—è –º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–æ–≤ (%)
              <span class="hint">‚Äî –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏ –∏–º–µ–Ω</span>
            </label>
            <input type="number" id="nameSimilarityMulti" value="80" step="1" min="50" max="100">
          </div>
          
          <!-- –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –≤—ã–≤–æ–¥–æ–≤ -->
          <h4 style="grid-column: 1 / -1; margin-top: 24px; margin-bottom: 8px; color: #667eea; font-size: 15px;">
            üéØ –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –≤—ã–≤–æ–¥–æ–≤
          </h4>
          
          <div class="config-item">
            <label for="takeoverMinDeposits">
              –ú–∏–Ω. –¥–µ–ø–æ–∑–∏—Ç—ã –Ω–∞ –∫–∞—Å—Å–µ ($)
              <span class="hint">‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤</span>
            </label>
            <input type="number" id="takeoverMinDeposits" value="1000" step="100" min="100">
          </div>
          
          <div class="config-item">
            <label for="takeoverMaxPlayers">
              –ú–∞–∫—Å. –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –∫–∞—Å—Å–µ
              <span class="hint">‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤</span>
            </label>
            <input type="number" id="takeoverMaxPlayers" value="10" step="1" min="1" max="50">
          </div>
          
          <div class="config-item">
            <label for="takeoverConcentration">
              –ü–æ—Ä–æ–≥ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ (%)
              <span class="hint">‚Äî –¥–æ–ª—è –≤—ã–≤–æ–¥–æ–≤ –≥—Ä—É–ø–ø—ã –æ—Ç –æ–±—â–∏—Ö</span>
            </label>
            <input type="number" id="takeoverConcentration" value="80" step="1" min="50" max="100">
          </div>
          
          <div class="config-item">
            <label for="takeoverMaxGroupSize">
              –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –≥—Ä—É–ø–ø—ã
              <span class="hint">‚Äî —Å–∫–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—Ç—å (1-3)</span>
            </label>
            <input type="number" id="takeoverMaxGroupSize" value="3" step="1" min="1" max="5">
          </div>
          
          <div class="config-item">
            <label for="takeoverMediumThreshold">
              –ü–æ—Ä–æ–≥ MEDIUM severity ($)
              <span class="hint">‚Äî —Å—É–º–º–∞ –≤—ã–≤–æ–¥–æ–≤ –≥—Ä—É–ø–ø—ã</span>
            </label>
            <input type="number" id="takeoverMediumThreshold" value="200" step="50" min="50">
          </div>
          
          <div class="config-item">
            <label for="takeoverHighThreshold">
              –ü–æ—Ä–æ–≥ HIGH severity ($)
              <span class="hint">‚Äî —Å—É–º–º–∞ –≤—ã–≤–æ–¥–æ–≤ –≥—Ä—É–ø–ø—ã</span>
            </label>
            <input type="number" id="takeoverHighThreshold" value="500" step="50" min="100">
          </div>
        </div>
      </div>
    </section>
    
    <button id="processBtn" class="btn-primary" disabled>
      üîÑ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å
    </button>
    
    <div id="status" class="status"></div>
  </div>
  
  <footer>
    <a href="privacy-policy.html">–ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</a>
    <span>‚Ä¢</span>
    <span>–í–µ—Ä—Å–∏—è 3.1</span>
  </footer>
  
  <script src="lib/papaparse.min.js"></script>
  <script src="js/csv-loader.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
