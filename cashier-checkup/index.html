<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- CSP: –∑–∞–ø—Ä–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π -->
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self'; 
                 script-src 'self' 'unsafe-inline'; 
                 style-src 'self' 'unsafe-inline'; 
                 connect-src 'none'; 
                 img-src 'self' data:;">
  
  <title>Cashier Checkup - –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</title>
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <div class="privacy-badge">
    üîí –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ
  </div>
  
  <div class="container">
    <header>
      <h1>Cashier Checkup</h1>
      <p class="subtitle">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Å—Å–∏—Ä–æ–≤ –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä</p>
    </header>
    
    <section class="upload">
      <div class="file-input-wrapper">
        <label for="mainFile">
          <div class="file-label">
            <span class="icon">üìÑ</span>
            <span>–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span>
          </div>
          <input type="file" id="mainFile" accept=".csv" required>
          <span class="filename" id="mainFilename">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
        </label>
      </div>
      
      <div class="file-input-wrapper">
        <label for="prepayFile">
          <div class="file-label">
            <span class="icon">üí∞</span>
            <span>Prepayments (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
          </div>
          <input type="file" id="prepayFile" accept=".csv">
          <span class="filename" id="prepayFilename">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
        </label>
      </div>
    </section>
    
    <section class="config">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
      
      <div class="config-grid">
        <div class="config-item">
          <label for="cashierColumn">–ö–æ–ª–æ–Ω–∫–∞ —Å –∫–∞—Å—Å–∞–º–∏</label>
          <select id="cashierColumn">
            <option value="8">I (9-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="9">J (10-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="10">K (11-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="11">L (12-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
            <option value="12" selected>M (13-—è –∫–æ–ª–æ–Ω–∫–∞)</option>
          </select>
          <small class="hint">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–æ–Ω–∫—É, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∫–∞—Å—Å—ã</small>
        </div>
        
        <div class="config-item">
          <label for="depCommission">–ö–æ–º–∏—Å—Å–∏—è –¥–µ–ø–æ–∑–∏—Ç—ã (%)</label>
          <input type="number" id="depCommission" value="5" step="0.01" min="0" max="100">
        </div>
        
        <div class="config-item">
          <label for="withCommission">–ö–æ–º–∏—Å—Å–∏—è –≤—ã–≤–æ–¥—ã (%)</label>
          <input type="number" id="withCommission" value="2" step="0.01" min="0" max="100">
        </div>
        
        <div class="config-item checkbox-item">
          <label>
            <input type="checkbox" id="createSummary" checked>
            <span>–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–¥–∫—É –ø–æ –§–ì</span>
          </label>
        </div>
      </div>
      
      <button type="button" id="advancedBtn" class="btn-secondary" onclick="toggleAdvanced()">
        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ—Ä–æ–¥-–∞–Ω–∞–ª–∏–∑–∞
      </button>
      
      <div id="advancedSettings" class="advanced-settings" style="display:none;">
        <h3>–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ—Ä–æ–¥-–∞–Ω–∞–ª–∏–∑–∞</h3>
        
        <div class="config-grid">
          <div class="config-item">
            <label for="highWithdrawalRatio">–í—ã—Å–æ–∫–∏–µ –≤—ã–≤–æ–¥—ã (%)</label>
            <input type="number" id="highWithdrawalRatio" value="110" step="1" min="100" max="500">
            <small class="hint">–í—ã–≤–æ–¥—ã/–î–µ–ø–æ–∑–∏—Ç—ã > —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è</small>
          </div>
          
          <div class="config-item">
            <label for="minAmountAnalysis">–ú–∏–Ω. —Å—É–º–º–∞ –∞–Ω–∞–ª–∏–∑–∞ ($)</label>
            <input type="number" id="minAmountAnalysis" value="100" step="10" min="0">
            <small class="hint">–ò–≥—Ä–æ–∫–∏ —Å –¥–µ–ø–æ–∑–∏—Ç–æ–º –º–µ–Ω—å—à–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è</small>
          </div>
          
          <div class="config-item">
            <label for="emptyAccountThreshold">–ü–æ—Ä–æ–≥ –ø—É—Å—Ç—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</label>
            <input type="number" id="emptyAccountThreshold" value="10" step="1" min="1">
            <small class="hint">–ú–∏–Ω. –∫–æ–ª-–≤–æ –¥–ª—è –¥–µ—Ç–µ–∫—Ç–∞</small>
          </div>
          
          <div class="config-item">
            <label for="nameSimilarityThreshold">–ü–æ—Ö–æ–∂–µ—Å—Ç—å –∏–º–µ–Ω (%)</label>
            <input type="number" id="nameSimilarityThreshold" value="70" step="1" min="50" max="100">
            <small class="hint">–î–ª—è –¥–µ—Ç–µ–∫—Ç–∞ –º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–æ–≤</small>
          </div>
        </div>
      </div>
    </section>
    
    <button id="processBtn" class="btn-primary" disabled>
      <span class="btn-text">–û–±—Ä–∞–±–æ—Ç–∞—Ç—å</span>
      <span class="btn-loader" style="display:none;">‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞...</span>
    </button>
    
    <div id="status" class="status"></div>
  </div>
  
  <footer>
    <a href="privacy-policy.html">–ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</a>
    <span>‚Ä¢</span>
    <span>–í–µ—Ä—Å–∏—è 1.0</span>
  </footer>
  
  <!-- PapaParse –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ CSV -->
  <script src="lib/papaparse.min.js"></script>
  
  <!-- –ù–∞—à –∫–æ–¥ -->
  <script src="js/csv-loader.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
